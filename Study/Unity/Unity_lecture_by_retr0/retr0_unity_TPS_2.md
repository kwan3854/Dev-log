# 레벨 아트 생성 + 라이팅  + 글로벌 일루미네이션

1. Assets/Scenes 에 새로운 씬 생성, 이름을 Main 으로
2. 레벨 디자이너가 디자인 한 아트 에셋을 현재 씬에 드래그 앤 드롭 한다
   - Level Art 를 드래그 앤 드롭
3. 레벨 아트 자체에 라이트 이펙트가 있으므로, 씬에 기본으로 있던 Directional Light 는 삭제
4. 현재 화면을 보면 맵이 전체적으로 어두운 것을 볼 수 있다.
   - Window -> Rednering -> Lighting Settings ->
   - Auto Generate: 백그라운드에서 자동으로 유니티가 라이팅 효과를 굽는다. (원하지 않을 때 백그라운드에서 자원을 먹어서 버벅일 수 있어서 꺼 놓았다. 켜져 있는 것이 기본 설정)
   - 라이트 맵: 실제 실시간으로 빛을 연산하는 것이 아니라, 미리 빛을 계산해서 해당 오브젝트에 빛이 비친 것 처럼 보이게 텍스처를 만듦.(눈속임 효과)
   - 라이트 맵을 미리 생성하는 절차를 라이트 맵을 굽는다 (bake) 라고 함. 런타임 도중의 컴퓨터의 부하를 줄여 줌
   - 라이트 맵을 bake 하는 과정은 매우 부하가 많이 걸리는 작업임.
     - 따라서 우리는 딱 한번만 bake 할 것임 (변화가 생길때 마다 자동 bake 하는 것이 아니라)
   - Skybox Material: 기본 값은 Default-Skybox 이지만, Assets/Materials/Sky 에 미리 만들어 놓은 하늘 효과가 있음.
     - 이것으로 변경

## 라이팅 설명

### Environment Lighting: 씬에 깔리는 가장 기본적인 빛

- 모든 방향에서 같은 세기로 들어온다
- 모든 오브젝트에 적용됨
- 그림자나 명암을 만들지 않음
- 게임의 전체 색채 분위기를 결정함

- 기본값인 Source: Sky 가 아닌, Color 로 변경
  - RGB (202, 153, 140) 으로 값을 변경

### Realtime Lighting, Mixed Lighting

- 기본값인 Realtime, Baked Global Illumination 을 사용
- Static 체크가 되어있는 물체에 대해서만 간접광을 표현함
  - 움직이지 않는 물체에 대해서만 간접광을 연산함
  - 간접광은 복잡하고 비싼 연산이기 때문
  - Static 이 체크되어 있다는 것은 해당 오브젝트가 위치가 변하지 않음을 보장된다는 의미

- 글로벌 이루미네이션?

  - 직사광 + 간접광 을 모두 표현 하는 라이팅 표현 방식

  - 매우 높은 성능량을 요구함

    - 오늘날의 초고사양 PC로도 완전한 리얼타임 연산이 어려움

    - 특별한 하드웨어를 요구하기도 함

    - 유니티 라이팅 옵션창의 Realtime Lighting 은 진정한 의미의 리얼타임 처리가 아님

      여러 방향에 대한 라이팅맵을 미리 연산해 두고 그것을 상황에 따라 보여주는 방식

- Baked Global Illumination

  - 한번 구우면 런타임에 변경되지 않음
  - 리얼타임 보다 연산 부하가 적기 때문에 더 사실적인 광원효과를 구현하기에 적절함
  - 다만 베이킹에도 부하가 많이 걸리기 때문에 굽는데 시간이 많이 걸림

### Lightmapping Settings

- Lightmapper: 라이팅 맵을 생성할때 사용할 연산 도구
  - Progressive CPU
  - Progressive GPU
  - Enlighten (예전 방식)
- 샘플링 횟수 설정
  - Direct Samples: 직사광 라이팅 샘플을 만들 때 샘플링 횟수
  - Indirect Samples: 간접광 라이팅 샘플을 만들 때 샘플링 횟수
  - Environemnt Samples: 환경광 라이팅 샘플을 만들 때 샘플링 횟수
  - 값을 줄이면 연산속도가 증가하지만, 퀄리티는 떨어짐

### Baking

- 위 처럼 설정값을 조정하고 베이킹을 한다.
- 베이킹 된 라이팅 데이터 에셋과 라이트맵이 `Assets/Scenes/씬이름과동일한이름의폴더/ ` 에 생성된다.